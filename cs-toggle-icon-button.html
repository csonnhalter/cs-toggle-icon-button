<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/polymer/lib/mixins/gesture-event-listeners.html">

<link rel="import" href="./default-icons.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/neon-animation/web-animations.html">
<link rel="import" href="/bower_components/paper-tooltip/paper-tooltip.html">



<dom-module id="cs-toggle-icon-button">
	<template>
		<style>
			:host{
				--tt-background: var(--toggle-button-tip-background,var(--paper-tooltip-background));
				--tt-opacity: var(--toggle-button-tip-opacity,var(--paper-tooltip-opacity));
				--tt-text-color: var(--toggle-button-tip-text-color, var(--paper-tooltip-text-color));					
			}
		
			paper-icon-button.do{
				color:var(--toggle-button-do-color,black);
			}

			paper-icon-button.done{
				color:var(--toggle-button-done-color,black);
			}

			paper-tooltip{
			--paper-tooltip-background: var(--tt-background, white);	
			--paper-tooltip-opacity:	var(--tt-opacity, 0.9);
			--paper-tooltip-text-color:var(--tt-text-color, black); 
			box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
			border-radius: 2px;
			}	
		</style>

		<paper-icon-button id="tog" class$="[[ModeColclass]]" icon="[[ModeIcon]]" noink on-tap="_toggle"></paper-icon-button>
		<paper-tooltip for="tog" position="right">[[tip]]</paper-tooltip>

	</template>
	
	<script>
		class  CsToggleIconButton extends Polymer.GestureEventListeners(Polymer.Element) {

			static get is() { return 'cs-toggle-icon-button'; }

			static get properties() {
				return {
					icons:{
						type:Object,
						value:{"done":"expand-less", "do":"expand-more"}
					},
					notoggle:{
						type:Boolean,
						value:false
					},
					tip:{
						type:String
					},
					ModeColclass:{
						type: String,
						value: "do"
					},
					ModeIcon:{
						type: String,
						value:"expand-more"
					},
					ModeDone:{
						type: Boolean,
						value:false
					}
				}
			}

			_toggle(){
				if(!this.notoggle){
					this.ModeDone=!this.ModeDone;
					if(this.ModeDone){
						this.ModeColclass="done";
						this.ModeIcon=this.icons.done;
					} else{
						this.ModeColclass="do";
						this.ModeIcon=this.icons.do;
					};
				};
			}

			ready(){
				super.ready();
				if(this.notoggle){
					this.ModeDone=true;
					this.ModeColclass="done";
					this.ModeIcon=this.icons.done;
				} else{
					this.ModeIcon=this.icons.do;
				};
			}
		}
		// Register custom element definition using standard platform API
		customElements.define(CsToggleIconButton.is, CsToggleIconButton);
	</script>
</dom-module>
